<!-- timeline.component.html -->
<div class="">
  <!-- Scrollable content -->
  <div class="overflow-auto py-16  modal-scrollbar">
    <ul>
      <li
        *ngFor="let item of years; let index = index"
        [style]="'--accent-color: ' + item.color"
      >
        <div class="date">
          <div class="flex space-x-3 items-center justify-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
              class="w-6 h-6 flex-none text-white"
            >
              <path
                d="M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM7.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM8.25 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM9.75 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM10.5 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM12.75 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM14.25 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 17.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 15.75a.75.75 0 100-1.5.75.75 0 000 1.5zM15 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM16.5 13.5a.75.75 0 100-1.5.75.75 0 000 1.5z"
              />
              <path
                fill-rule="evenodd"
                d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z"
                clip-rule="evenodd"
              />
            </svg>
            <p class="pt-3">{{ item.year }}</p>
          </div>
        </div>

        <div
          class="title flex justify-start items-center text-gray-200 font-semibold text-lg mb-2 rounded-b-lg"
        >
          <div class="w-10 h-10 mr-4 rounded-full border border-gold p-2">
            <ng-container
              *ngIf="isPastEndDate(item.endDate); else checkStartDate"
            >
              <!-- Check Mark SVG (Past End Date) -->
              <svg
                fill="none"
                stroke="#7E22CE"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-5 h-5"
                viewBox="0 0 24 24"
              >
                <path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path>
                <path d="M22 4L12 14.01l-3-3"></path>
              </svg>
            </ng-container>

            <ng-template #checkStartDate>
              <ng-container
                *ngIf="
                  isBetweenDates(item.startDate, item.endDate);
                  else upcomingSvg
                "
              >
                <!-- Progress SVG (Between Start and End Date) -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  style="margin: auto; background: none; display: block"
                  width="100%"
                  height="100%"
                  viewBox="0 0 100 100"
                  preserveAspectRatio="xMidYMid"
                >
                  <circle
                    cx="50"
                    cy="50"
                    r="32"
                    stroke-width="8"
                    stroke="#7E22CE"
                    stroke-dasharray="50.26548245743669 50.26548245743669"
                    fill="none"
                    stroke-linecap="round"
                  >
                    <animateTransform
                      attributeName="transform"
                      type="rotate"
                      repeatCount="indefinite"
                      dur="1s"
                      keyTimes="0;1"
                      values="0 50 50;360 50 50"
                    ></animateTransform>
                  </circle>
                </svg>
              </ng-container>
            </ng-template>

            <ng-template #upcomingSvg>
              <!-- Upcoming Event SVG (Before Start Date) -->
              <!-- <svg
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-5 h-5"
                viewBox="0 0 24 24"
              >
                <path d="M12 2a10 10 0 110 20"></path>
                <path d="M12 6v6l4 2"></path>
              </svg> -->
            </ng-template>
          </div>

          <span class="mr-4">{{ item.title }}</span>
        </div>
        <div class="descr text-gray-400" [innerHTML]="item.desc | highlightNumbers"></div>
      </li>
    </ul>
  </div>
</div>
